(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,a){e.exports=a(78)},74:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(20),c=a.n(l),r=a(7),s=a(8),i=a(10),m=a(9),u=a(11),h=a(79),p=a(80),d=a(81),E=a(82),f=a(96),b=a(83),g=a(84),v=a(85),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.state={isOpen:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(h.a,{color:"dark",dark:!0,expand:"sm",className:"mb-5"},o.a.createElement(p.a,null,o.a.createElement(d.a,{href:"/"},"Forum"),o.a.createElement(d.a,{href:"/contact"},"Contact"),o.a.createElement(d.a,{href:"/about"},"About Us"),o.a.createElement(E.a,{onClick:this.toggle}),o.a.createElement(f.a,{isOpen:this.state.isOpen,navbar:!0},o.a.createElement(b.a,{className:"ml-auto",navbar:!0},o.a.createElement(g.a,null,o.a.createElement(v.a,{href:"/create-article"},"Create Article")))))))}}]),t}(n.Component),O=a(17),C=a(86),y=a(87),k=a(88),S=a(89),N=a(90),x=a(91),w=a(12),I=a.n(w),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value,l="",c="",r="";"title"===t&&((n.length<=2||n.length>=20)&&(l=o.a.createElement("strong",null,"Your title must be more than 2 and less then 20 characters ")),a.setState({errTitle:l})),"content"===t&&((n.length<=100||n.length>=800)&&(c=o.a.createElement("strong",null,"Your content must be more than 100 and less then 800 characters")),a.setState({errContent:c})),"email"===t&&(/^[a-z\d]+[\w\d.-]*@(?:[a-z\d]+[a-z\d-]+\.){1,5}[a-z]{2,6}$/i.test(n)||(r=o.a.createElement("strong",null,"Please enter valid e-mail")),a.setState({errEm:r})),a.setState(Object(O.a)({},t,n))},a.selectedImage=function(e){a.setState({postImage:e.target.files[0]})},a.onSubmit=function(e){var t={title:a.state.title,content:a.state.content,email:a.state.email},n=new FormData;n.append("postImage",a.state.postImage,a.state.postImage.name),I.a.post("/posts",t,n).then((function(e){return console.log(e.data)})),a.setState({title:"",content:"",email:"",postImage:null}),console.log(t),console.log(n),a.props.history.push("/")},a.state={title:"",content:"",email:"",postImage:null,errTitle:"",errContent:"",errEm:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(C.a,{method:"post",id:"PostForm",action:"admin/posts/create-post",enctype:"multipart/form-data",onSubmit:this.onSubmit,className:"form"},o.a.createElement(y.a,{className:"mx-auto"},o.a.createElement(k.a,{for:"title"},"Title"),o.a.createElement(S.a,{type:"text",id:"title",name:"title",placeholder:"Title:",onChange:this.onChange}),o.a.createElement("h6",null,this.state.errTitle)),o.a.createElement(y.a,{className:"mx-auto"},o.a.createElement(k.a,{for:"Content"},"Content"),o.a.createElement(S.a,{type:"textarea",id:"content",name:"content",placeholder:"Content:",onChange:this.onChange}),o.a.createElement("h6",null,this.state.errContent)),o.a.createElement(y.a,{className:"mx-auto"},o.a.createElement(k.a,{for:"Email"},"Email"),o.a.createElement(S.a,{type:"textarea",id:"email",name:"email",placeholder:"Email:",onChange:this.onChange}),o.a.createElement("h6",null,this.state.errEm)),o.a.createElement("div",null,o.a.createElement("input",{type:"file",onChange:this.selectedImage})),o.a.createElement(N.a,{className:"text-center"},o.a.createElement(x.a,{type:"submit"},"Submit"))))}}]),t}(o.a.Component),z=a(92),T=a(93),P=a(94),A=a(95),_=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).deleteComment=function(){I.a.delete("/comments/"+a.props.obj._id).then((function(e){console.log("Comment deleted!")})).catch((function(e){console.log(e)}))},a.state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"comment"},o.a.createElement("div",null,o.a.createElement("p",null,"By: ",this.props.obj.author),o.a.createElement("h6",null,this.props.obj.comment)),o.a.createElement("div",{className:"comment-icons"},o.a.createElement("a",{onClick:function(){return e.props.edit(e.props.obj._id)}},o.a.createElement("i",{className:"fa fa-pencil-square-o"})),o.a.createElement("a",{onClick:this.deleteComment,href:"/"},o.a.createElement("i",{className:"fa fa-trash-o ml-2"}))))}}]),t}(o.a.Component),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).commentsList=function(){return a.state.comments.map((function(e,t){if(e.postID===a.props.postID)return o.a.createElement(_,{edit:a.props.edit,obj:e,key:t})}))},a.state={comments:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("/comments/").then((function(t){e.setState({comments:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Komentarze:"),this.commentsList())}}]),t}(o.a.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){var t={comment:a.state.comment,author:a.state.author,postID:a.state.postID};console.log(t),I.a.post("/comments",t).then((function(e){return console.log(e)})),a.setState({comment:"",author:""})},a.onChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.editComment=function(e){I.a.get("/comments/"+e).then((function(e){a.setState({comment:e.data.comment,author:e.data.author})})).catch((function(e){console.log(e)}))},a.state={comment:"",author:"",postID:a.props.postID},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(B,{postID:this.props.postID,edit:this.editComment}),o.a.createElement("p",null,"Dodaj komentarz:"),o.a.createElement(C.a,{onSubmit:this.onSubmit,style:{display:"flex",justifyContent:"space-between",width:"100%"}},o.a.createElement(S.a,{type:"text",value:this.state.comment,name:"comment",onChange:this.onChange,placeholder:"Comment:"}),o.a.createElement(S.a,{type:"text",value:this.state.author,name:"author",onChange:this.onChange,placeholder:"Author:",className:"ml-2"}),o.a.createElement(x.a,{style:{width:"100px",margin:"auto"},type:"submit",className:"ml-2"},"Submit")))}}]),t}(o.a.Component),L=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).deletePost=function(){I.a.delete("/posts/"+a.props.obj._id).then((function(e){console.log("Post deleted!")})).catch((function(e){console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"p-3"},o.a.createElement(z.a,{className:"mx-auto"},o.a.createElement(T.a,null,o.a.createElement(P.a,null,o.a.createElement("h5",null,this.props.obj.title)),o.a.createElement(A.a,null,o.a.createElement("p",null,this.props.obj.content),o.a.createElement("h5",null,this.props.obj.email),o.a.createElement("footer",{className:"post-footer"},o.a.createElement("p",null,"Opublikowano: ",this.props.obj.date),o.a.createElement("div",null,o.a.createElement(x.a,{href:"/",onClick:this.deletePost,className:"float-right"},o.a.createElement("i",{class:"fa fa-trash-o"})),o.a.createElement(x.a,{href:"/edit-post/"+this.props.obj._id,className:"mr-2 float-right"},"Edit Post"))),o.a.createElement(J,{postID:this.props.obj._id}))))))}}]),t}(o.a.Component);function M(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var o=a[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}M(),function(){var e,t,a=M("Visits");null===a?a=1:(a++,e="Visits",t=a,document.cookie=e+"="+t)}();var W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).postsList=function(){return a.state.articles.map((function(e,t){return o.a.createElement(L,{obj:e,key:t})}))},a.state={articles:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("/posts").then((function(t){e.setState({articles:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.postsList())}}]),t}(o.a.Component),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={title:a.state.title,content:a.state.content,email:a.state.email};I.a.put("/posts/"+a.props.match.params.id,t).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),a.props.history.push("/")},a.state={title:"",content:"",email:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.id),I.a.get("/posts/"+this.props.match.params.id).then((function(t){console.log(t),e.setState({title:t.data.title,content:t.data.content,email:t.data.email})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(C.a,{onSubmit:this.onSubmit,className:"form"},o.a.createElement(y.a,{className:"mx-auto"},o.a.createElement(k.a,{for:"title"},"Title"),o.a.createElement(S.a,{type:"text",id:"title",name:"title",value:this.state.title,onChange:this.onChange})),o.a.createElement(y.a,{className:"mx-auto"},o.a.createElement(k.a,{for:"Content"},"Title"),o.a.createElement(S.a,{type:"textarea",id:"content",name:"content",value:this.state.content,onChange:this.onChange})),o.a.createElement(y.a,{className:"mx-auto"},o.a.createElement(k.a,{for:"Email"},"Email"),o.a.createElement(S.a,{type:"textarea",id:"email",name:"email",value:this.state.email,onChange:this.onChange})),o.a.createElement(N.a,{className:"text-center"},o.a.createElement(x.a,null,"Submit"))))}}]),t}(o.a.Component);function U(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Nasze dane kontaktowe:"),o.a.createElement("h3",null,"J\u0119drzej i Tomek"),o.a.createElement("h3",null,"Ulica Powsta\u0144c\xf3w Warszawskich 89"),o.a.createElement("h3",null,"80-000 Warszawa"))}function V(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Blog made by Jedrzej and Tomek \xa9"))}var Y=a(39),$=a(18),q=(a(73),a(74),function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(Y.a,null,o.a.createElement("div",null,o.a.createElement("header",null,o.a.createElement(j,null)),o.a.createElement($.c,null,o.a.createElement($.a,{path:"/create-article",component:D}),o.a.createElement($.a,{exact:!0,path:"/",component:W}),o.a.createElement($.a,{path:"/edit-post/:id",component:F}),o.a.createElement($.a,{path:"/contact",component:U}),o.a.createElement($.a,{path:"/about",component:V}))))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.de5e0f34.chunk.js.map