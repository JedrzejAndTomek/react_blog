{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programowanie\\\\react_blog\\\\src\\\\components\\\\viewPost\\\\Comments.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport SingleComment from './SingleComment';\n\nclass Comments extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        Comment: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const variables = {\n        Comment: this.state.Comment,\n        postId: this.props.postId\n      };\n      axios.post('http://localhost:4000/comments/create-comment', variables).then(response => {\n        if (response.data.success) {\n          this.setState({\n            Comment: ''\n          });\n          return this.props.refreshFunction;\n        } else {\n          console.log('Failed to save Comment');\n        }\n      });\n    };\n\n    this.state = {\n      Comment: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"comment-box\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"textarea\",\n      className: \"comment\",\n      onChange: this.handleChange,\n      value: this.state.Comment,\n      placeholder: \"Add comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"comment-button\",\n      onClick: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Add Comment\")), console.log(this.props.commentsList), this.props.commentsList && this.props.commentsList.map((comment, index) => React.createElement(SingleComment, {\n      Comment: this.state.Comment,\n      postId: this.props.postId,\n      refreshFunction: this.props.refreshFunction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Comments;","map":{"version":3,"sources":["C:/Programowanie/react_blog/src/components/viewPost/Comments.js"],"names":["React","axios","SingleComment","Comments","Component","constructor","props","handleChange","e","setState","Comment","target","value","onSubmit","preventDefault","variables","state","postId","post","then","response","data","success","refreshFunction","console","log","render","commentsList","map","comment","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAsC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAQlBC,YARkB,GAQFC,CAAD,IAAO;AAClB,WAAKC,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAnB,OAAd;AACH,KAViB;;AAAA,SAclBC,QAdkB,GAcNL,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACM,cAAF;AAEA,YAAMC,SAAS,GAAG;AACdL,QAAAA,OAAO,EAAE,KAAKM,KAAL,CAAWN,OADN;AAEdO,QAAAA,MAAM,EAAE,KAAKX,KAAL,CAAWW;AAFL,OAAlB;AAKAhB,MAAAA,KAAK,CAACiB,IAAN,CAAW,+CAAX,EAA4DH,SAA5D,EACCI,IADD,CACMC,QAAQ,IAAI;AACV,YAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvB,eAAKb,QAAL,CAAc;AAACC,YAAAA,OAAO,EAAC;AAAT,WAAd;AACA,iBAAO,KAAKJ,KAAL,CAAWiB,eAAlB;AACH,SAHD,MAGO;AACHC,UAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACH;AACJ,OARL;AASC,KA/BiB;;AAGd,SAAKT,KAAL,GAAa;AACTN,MAAAA,OAAO,EAAE;AADA,KAAb;AAGH;;AA2BLgB,EAAAA,MAAM,GAAG;AACT,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAM,MAAA,SAAS,EAAC,aAAhB;AAA8B,MAAA,QAAQ,EAAE,KAAKb,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,SAAS,EAAC,SAAjC;AACA,MAAA,QAAQ,EAAE,KAAKN,YADf;AAEA,MAAA,KAAK,EAAE,KAAKS,KAAL,CAAWN,OAFlB;AAGA,MAAA,WAAW,EAAC,aAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANA,EAOA;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAE,KAAKG,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPA,CAFJ,EAYKW,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAL,CAAWqB,YAAvB,CAZL,EAcK,KAAKrB,KAAL,CAAWqB,YAAX,IAA2B,KAAKrB,KAAL,CAAWqB,YAAX,CAAwBC,GAAxB,CAA4B,CAACC,OAAD,EAAUC,KAAV,KACpD,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAE,KAAKd,KAAL,CAAWN,OAAnC;AAA4C,MAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWW,MAA/D;AAAuE,MAAA,eAAe,EAAE,KAAKX,KAAL,CAAWiB,eAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADwB,CAdhC,CADJ;AAoBC;;AAvDiC;;AA0DtC,eAAepB,QAAf","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport SingleComment from './SingleComment'\r\n\r\nclass Comments extends React.Component{\r\n        constructor(props){\r\n            super(props)\r\n\r\n            this.state = {\r\n                Comment: '',\r\n            }\r\n        }\r\n\r\n        handleChange = (e) => {\r\n            this.setState({Comment: e.target.value})\r\n        }\r\n\r\n    \r\n\r\n        onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const variables = {\r\n            Comment: this.state.Comment,\r\n            postId: this.props.postId\r\n        }\r\n\r\n        axios.post('http://localhost:4000/comments/create-comment', variables)\r\n        .then(response => {\r\n                if (response.data.success) {\r\n                    this.setState({Comment:''})\r\n                    return this.props.refreshFunction\r\n                } else {\r\n                    console.log('Failed to save Comment')\r\n                }\r\n            })\r\n        }\r\n\r\n    render() {\r\n    return (\r\n        <div>\r\n            <hr />\r\n            <form className='comment-box' onSubmit={this.onSubmit}>\r\n            <input type='textarea' className='comment'\r\n            onChange={this.handleChange}\r\n            value={this.state.Comment}\r\n            placeholder='Add comment'\r\n            />\r\n            <br />\r\n            <button className='comment-button' onClick={this.onSubmit}>Add Comment</button>\r\n            </form>\r\n    \r\n            {console.log(this.props.commentsList)}\r\n\r\n            {this.props.commentsList && this.props.commentsList.map((comment, index) =>(\r\n                <SingleComment Comment={this.state.Comment} postId={this.props.postId} refreshFunction={this.props.refreshFunction}/> \r\n            ))}\r\n        </div>\r\n    )\r\n    }\r\n}\r\n       \r\nexport default Comments;\r\n"]},"metadata":{},"sourceType":"module"}