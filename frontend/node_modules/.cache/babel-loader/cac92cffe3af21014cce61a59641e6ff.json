{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programowanie\\\\react_blog\\\\src\\\\components\\\\viewPost\\\\Comments.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport SingleComment from './SingleComment';\n\nclass Comments extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        setComment: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const variables = {\n        comment: this.state.Comment,\n        postId: this.props.postId\n      };\n      axios.post('http://localhost:4000/comments/create-comment', variables).then(response => {\n        if (response.data.success) {\n          this.setState({\n            setComment: ''\n          });\n          this.props.refreshFunction(response.data.result);\n        } else {\n          alert('Failed to save Comment');\n        }\n      });\n    };\n\n    this.state = {\n      Comment: '',\n      setComment: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"comment-box\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"textarea\",\n      className: \"comment\",\n      onChange: this.handleChange,\n      value: Comment,\n      placeholder: \"Add comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"comment-button\",\n      onClick: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Add Comment\")), console.log(this.props.commentsList), this.props.commentsList && this.props.commentsList.map((comment, index) => React.createElement(SingleComment, {\n      comment: comment,\n      postId: this.props.postId,\n      refreshFunction: this.props.refreshFunction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Comments;","map":{"version":3,"sources":["C:/Programowanie/react_blog/src/components/viewPost/Comments.js"],"names":["React","axios","SingleComment","Comments","Component","constructor","props","handleChange","e","setState","setComment","target","value","onSubmit","preventDefault","variables","comment","state","Comment","postId","post","then","response","data","success","refreshFunction","result","alert","render","console","log","commentsList","map","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAsC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SASlBC,YATkB,GASFC,CAAD,IAAO;AAClB,WAAKC,QAAL,CAAc;AAACC,QAAAA,UAAU,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAtB,OAAd;AACH,KAXiB;;AAAA,SAelBC,QAfkB,GAeNL,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACM,cAAF;AAEA,YAAMC,SAAS,GAAG;AACdC,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,OADN;AAEdC,QAAAA,MAAM,EAAE,KAAKb,KAAL,CAAWa;AAFL,OAAlB;AAKAlB,MAAAA,KAAK,CAACmB,IAAN,CAAW,+CAAX,EAA4DL,SAA5D,EACGM,IADH,CACQC,QAAQ,IAAI;AACZ,YAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvB,eAAKf,QAAL,CAAc;AAACC,YAAAA,UAAU,EAAC;AAAZ,WAAd;AACA,eAAKJ,KAAL,CAAWmB,eAAX,CAA2BH,QAAQ,CAACC,IAAT,CAAcG,MAAzC;AACH,SAHD,MAGO;AACHC,UAAAA,KAAK,CAAC,wBAAD,CAAL;AACH;AACJ,OARL;AASH,KAhCqB;;AAGd,SAAKV,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,EADA;AAETR,MAAAA,UAAU,EAAE;AAFH,KAAb;AAIH;;AA2BLkB,EAAAA,MAAM,GAAG;AACT,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAM,MAAA,SAAS,EAAC,aAAhB;AAA8B,MAAA,QAAQ,EAAE,KAAKf,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,SAAS,EAAC,SAAjC;AACA,MAAA,QAAQ,EAAE,KAAKN,YADf;AAEA,MAAA,KAAK,EAAEW,OAFP;AAGA,MAAA,WAAW,EAAC,aAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANA,EAOA;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAE,KAAKL,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPA,CAFJ,EAYKgB,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWyB,YAAvB,CAZL,EAcK,KAAKzB,KAAL,CAAWyB,YAAX,IAA2B,KAAKzB,KAAL,CAAWyB,YAAX,CAAwBC,GAAxB,CAA4B,CAAChB,OAAD,EAAUiB,KAAV,KACpD,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEjB,OAAxB;AAAiC,MAAA,MAAM,EAAE,KAAKV,KAAL,CAAWa,MAApD;AAA4D,MAAA,eAAe,EAAE,KAAKb,KAAL,CAAWmB,eAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADwB,CAdhC,CADJ;AAoBC;;AAxDiC;;AA2DtC,eAAetB,QAAf","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport SingleComment from './SingleComment'\r\n\r\nclass Comments extends React.Component{\r\n        constructor(props){\r\n            super(props)\r\n\r\n            this.state = {\r\n                Comment: '',\r\n                setComment: ''\r\n            }\r\n        }\r\n\r\n        handleChange = (e) => {\r\n            this.setState({setComment: e.target.value})\r\n        }\r\n\r\n    \r\n\r\n        onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const variables = {\r\n            comment: this.state.Comment,\r\n            postId: this.props.postId\r\n        }\r\n\r\n        axios.post('http://localhost:4000/comments/create-comment', variables)\r\n          .then(response => {\r\n                if (response.data.success) {\r\n                    this.setState({setComment:''})\r\n                    this.props.refreshFunction(response.data.result)\r\n                } else {\r\n                    alert('Failed to save Comment')\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n    return (\r\n        <div>\r\n            <hr />\r\n            <form className='comment-box' onSubmit={this.onSubmit}>\r\n            <input type='textarea' className='comment'\r\n            onChange={this.handleChange}\r\n            value={Comment}\r\n            placeholder='Add comment'\r\n            />\r\n            <br />\r\n            <button className='comment-button' onClick={this.onSubmit}>Add Comment</button>\r\n            </form>\r\n    \r\n            {console.log(this.props.commentsList)}\r\n\r\n            {this.props.commentsList && this.props.commentsList.map((comment, index) =>(\r\n                <SingleComment comment={comment} postId={this.props.postId} refreshFunction={this.props.refreshFunction}/> \r\n            ))}\r\n        </div>\r\n    )\r\n    }\r\n}\r\n       \r\nexport default Comments;\r\n"]},"metadata":{},"sourceType":"module"}