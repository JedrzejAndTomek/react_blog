{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programowanie\\\\react_blog\\\\src\\\\components\\\\viewPost\\\\Comments.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport SingleComment from './SingleComment';\n\nclass Comments extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.handleChange = e => {\n      this.setState({\n        setComment: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const variables = {\n        comment: Comment,\n        postId: props.postId\n      };\n      axios.post('http://localhost:4000/comments/create-comment', variables).then(response => {\n        if (response.data.success) {\n          setComment('');\n          props.refreshFunction(response.data.result);\n          console.log('Comment added!');\n        } else {\n          console.log('comment added but error?');\n        }\n      });\n    };\n\n    this.state = {\n      Comment: '',\n      setComment: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"comment-box\",\n      onSubmit: onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"textarea\",\n      className: \"comment\",\n      onChange: handleChange,\n      value: Comment,\n      placeholder: \"Add comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"comment-button\",\n      onClick: onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Add Comment\")), console.log(props.commentsList), props.commentsList && props.commentsList.map((comment, index) => React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(SingleComment, {\n      comment: comment,\n      postId: props.postId,\n      refreshFunction: props.refreshFunction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Comments;","map":{"version":3,"sources":["C:/Programowanie/react_blog/src/components/viewPost/Comments.js"],"names":["React","axios","SingleComment","Comments","Component","constructor","props","handleChange","e","setState","setComment","target","value","onSubmit","preventDefault","variables","comment","Comment","postId","post","then","response","data","success","refreshFunction","result","console","log","state","render","commentsList","map","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAsC;AAC9BC,EAAAA,WAAW,CAACC,MAAD,EAAO;AACd,UAAMA,MAAN;;AADc,SASlBC,YATkB,GASFC,CAAD,IAAO;AACtB,WAAKC,QAAL,CAAc;AAACC,QAAAA,UAAU,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAtB,OAAd;AACH,KAXqB;;AAAA,SAelBC,QAfkB,GAeNL,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACM,cAAF;AAEA,YAAMC,SAAS,GAAG;AACdC,QAAAA,OAAO,EAAEC,OADK;AAEdC,QAAAA,MAAM,EAAEZ,KAAK,CAACY;AAFA,OAAlB;AAKAjB,MAAAA,KAAK,CAACkB,IAAN,CAAW,+CAAX,EAA4DJ,SAA5D,EACCK,IADD,CACMC,QAAQ,IAAI;AACd,YAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAjB,EAA0B;AACtBb,UAAAA,UAAU,CAAC,EAAD,CAAV;AACAJ,UAAAA,KAAK,CAACkB,eAAN,CAAsBH,QAAQ,CAACC,IAAT,CAAcG,MAApC;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,SAJD,MAIO;AACHD,UAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACH;AACJ,OATD;AAUH,KAjCqB;;AAGd,SAAKC,KAAL,GAAa;AACTX,MAAAA,OAAO,EAAE,EADA;AAETP,MAAAA,UAAU,EAAE;AAFH,KAAb;AAIH;;AA4BLmB,EAAAA,MAAM,GAAG;AACT,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAM,MAAA,SAAS,EAAC,aAAhB;AAA8B,MAAA,QAAQ,EAAEhB,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,SAAS,EAAC,SAAjC;AACA,MAAA,QAAQ,EAAEN,YADV;AAEA,MAAA,KAAK,EAAEU,OAFP;AAGA,MAAA,WAAW,EAAC,aAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANA,EAOA;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAEJ,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPA,CAFJ,EAYKa,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAACwB,YAAlB,CAZL,EAcKxB,KAAK,CAACwB,YAAN,IAAsBxB,KAAK,CAACwB,YAAN,CAAmBC,GAAnB,CAAuB,CAACf,OAAD,EAAUgB,KAAV,KAC1C,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEhB,OAAxB;AAAiC,MAAA,MAAM,EAAEV,KAAK,CAACY,MAA/C;AAAuD,MAAA,eAAe,EAAEZ,KAAK,CAACkB,eAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADmB,CAd3B,CADJ;AAsBC;;AA3DiC;;AA8DtC,eAAerB,QAAf","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport SingleComment from './SingleComment'\r\n\r\nclass Comments extends React.Component{\r\n        constructor(props){\r\n            super(props)\r\n\r\n            this.state = {\r\n                Comment: '',\r\n                setComment: ''\r\n            }\r\n        }\r\n\r\n        handleChange = (e) => {\r\n        this.setState({setComment: e.target.value}) \r\n    }\r\n\r\n    \r\n\r\n        onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const variables = {\r\n            comment: Comment,\r\n            postId: props.postId\r\n        }\r\n\r\n        axios.post('http://localhost:4000/comments/create-comment', variables)\r\n        .then(response => {\r\n            if(response.data.success) {\r\n                setComment('')\r\n                props.refreshFunction(response.data.result)\r\n                console.log('Comment added!')\r\n            } else {\r\n                console.log('comment added but error?')\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n    return (\r\n        <div>\r\n            <hr />\r\n            <form className='comment-box' onSubmit={onSubmit}>\r\n            <input type='textarea' className='comment'\r\n            onChange={handleChange}\r\n            value={Comment}\r\n            placeholder='Add comment'\r\n            />\r\n            <br />\r\n            <button className='comment-button' onClick={onSubmit}>Add Comment</button>\r\n            </form>\r\n    \r\n            {console.log(props.commentsList)}\r\n\r\n            {props.commentsList && props.commentsList.map((comment, index) =>(\r\n                <React.Fragment>\r\n                <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction}/> \r\n                </React.Fragment>\r\n            ))}\r\n        </div>\r\n    )\r\n    }\r\n}\r\n       \r\nexport default Comments;\r\n"]},"metadata":{},"sourceType":"module"}